<link
  href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap"
  rel="stylesheet"
/>

<style>
  body {
    font-family: Roboto;
  }

  .title {
    text-align: center;
    margin-top: 10px;
  }

  .cta-container {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 20px;
    padding-top: 10px;
  }

  .cta-container button {
    border: none;
    outline: none;
    padding: 8px 12px;
    border-radius: 4px;
    font-family: Roboto;
    cursor: pointer;

    &:hover {
      opacity: 0.9;
    }
  }

  .cta-container .generate-code {
    background-color: #0d99ffff;
    color: #ffffff;
  }
</style>

<h2 class="title">Design 2 Code</h2>
<div class="cta-container">
  <button id="generateCode" class="generate-code">Generate Code</button>
  <button id="cancel" class="cancel">Cancel</button>
  <div id="preview"></div>
</div>

<script src="https://cdn.jsdelivr.net/npm/showdown@2.1.0/dist/showdown.min.js"></script>
<script>
  const converter = new showdown.Converter();
  const text = "# hello, markdown!";
  const html = converter.makeHtml(text);
  console.log("markdown html", html);
  document.getElementById("preview").innerHTML = html;

  document.getElementById("generateCode").onclick = () => {
    parent.postMessage({ pluginMessage: { type: "generateCode" } }, "*");
  };

  document.getElementById("cancel").onclick = () => {
    parent.postMessage({ pluginMessage: { type: "cancel" } }, "*");
  };
</script>
